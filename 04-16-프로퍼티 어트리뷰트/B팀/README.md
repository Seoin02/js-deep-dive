# 15장 프로퍼티 어트리뷰트

## 목차

1. [내부 슬롯과 내부 메서드](#1-내부-슬롯과-내부-메서드)
2. [프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체](#2-프로퍼티-어트리뷰트와-프로퍼티-디스크립터-객체)
3. [데이터 프로퍼티와 접근자 프로퍼티](#3-데이터-프로퍼티와-접근자-프로퍼티)
4. [프로퍼티 정의](#4-프로퍼티-정의)
5. [객체 변경 방지](#5-객체-변경-방지)

<br />

## 1. 내부 슬롯과 내부 메서드

- 내부 슬롯: 내부 슬롯은 객체의 특정 기능을 지원하는 내부 상태를 저장하는 데 사용됩니다.내부 슬롯은 객체의 특정 기능을 지원하는 내부 상태를 저장하는 데 사용됩니다. 예를 들어, 객체의 프로토타입을 가리키는 [[Prototype]] 슬롯, 배열의 길이를 나타내는 [[Length]] 슬롯 등이 있습니다. 이러한 슬롯은 자바스크립트 엔진 내부에서 사용되며, 사용자 코드에서 직접 접근할 수 없습니다.

- 내부 메서드: 내부 메서드는 객체의 동작을 정의하는 메서드입니다. 예를 들어, 객체의 속성에 접근할 때 호출되는 [[Get]] 메서드, 속성에 값을 설정할 때 호출되는 [[Set]] 메서드 등이 있습니다. 이러한 메서드는 자바스크립트 엔진 내부에서 호출되며, 객체의 동작을 제어합니다.

<br />

## 2. 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체

- 프로퍼티 어트리뷰트: 객체의 프로퍼티의 **상태**를 나타내는 기본값, 혹은 정의입니다. 쉽게 말해, 객체 정보를 제공하는 **메타 데이터** 역할이라고 보시면 됩니다. 또한 내부 슬롯 [[Value]], [[Writable]], [[Enumerable]], [[Configurable]]을 통해 테이블화 해놓습니다.

- 프로퍼티 디스크립터 객체: 프로퍼티 어트리뷰트에 대한 정보를 담은 **객체**입니다. getOwnPropertyDescriptor 메서드를 통해 접근합니다. 이를 통해, 디스크립터 객체를 반환 받습니다.

<br />

## 3. 데이터 프로퍼티와 접근자 프로퍼티

- 프로퍼티 어트리뷰트는 크게 **데이터 프로퍼티**와 **접근자 프로퍼티**로 분류합니다.

### 3-1. 데이터 프로퍼티

- 내부 슬롯 [[Value]], [[Writable]], [[Enumerable]], [[Configurable]]을 통해 구현됩니다.

### 3-2. 접근자 프로퍼티

- 접근자 프로퍼티는 [[Get]], [[Set]],  [[Enumerable]], [[Configurable]]로 구성됩니다.

<br />

## 4. 프로퍼티 정의

- Object.defineProperty 메서드를 통해, 프로퍼티 어트리뷰트인 [[Value]], [[Writable]], [[Get]], [[Set]], [[Enumerable]], [[Configurable]]를 정의할 수 있습니다.

<br/>

## 5. 객체 변경 방지

- 앞서, Object.defineProperty (혹은 defineProperties)를 통해, 프로퍼티 어트리뷰트를 재정의할 수 있었습니다.
- 또한, 객체는 기본적으로 프로퍼티의 집합입니다. 따라서, 자신만의 프로퍼티를 정의하고 값을 변경할 수 있습니다.
- 자바스크립트는 이에 더해, 객체의 변경을 방지하는 메서드 역시 제공하고 있습니다.

### 5-1. 객체 확장 금지

- **Object.preventExtensions**: 프로퍼티 추가를 금지합니다. 동적 프로퍼티 추가, Object.defineProperty를 통한 프로퍼티 어트리뷰트를 이용한 추가 모두 금지합니다.


### 5-2. 객체 밀봉

- **Object.seal**: 추가, 삭제, 프로퍼티 어트리뷰트 재정의를 금지합니다. 즉, **읽기, 쓰기**만 가능합니다. 여기서 쓰기란, 프로퍼티 값을 갱신하는 것을 말합니다.

```js
const person = { name: 'Lee' }; 

person.name = 'Kim'; // {name: 'Kim'} 값을 갱신하는 것은 가능합니다.
```

### 5-3. 객체 동결

- **Object.freeze**: 객체를 읽기만 가능하게 합니다.

### 5-4. 불변 객체

- Object.freeze를 사용하더라도, 객체 내부에 객체가 존재한다면 (중첩 객체), 내부에 존재하는 객체는 동결되지 않습니다. 따라서, 중첩 객체까지 모두 동결하려면, 재귀적으로 Object.freeze를 호출해야 합니다.